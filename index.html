<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>コンピューターグラフィックス</title>
    <!-- favicon -->
    <link rel="icon" href="./res/favicon.ico">
    <!-- css -->
    <link rel="stylesheet" href="styles.css">
    <!-- script -->
    <script src="./functions.js"></script>
    <script src="./script.js" defer></script>
    

    <!-- SHADER PROGRAM SRC -->
    <!-- vertex shader -->
    <script id="vertex-src" type="notjs">
        attribute vec2 a_position;
        uniform vec2 u_resolution;

        attribute vec2 a_textcoord;
        varying vec2 v_texcoord;
        
        attribute vec4 a_color;
        varying vec4 v_color;

        void main() {
            vec2 nolToSatu = a_position/u_resolution;
            vec2 nolToDua = nolToSatu * 2.0;
            vec2 clipSpace = nolToDua - 1.0;
            gl_Position = vec4(clipSpace.x, clipSpace.y*-1.0, 0, 1);
            gl_PointSize = 10.0;

            v_color = a_color;
        }
    </script>
    <!-- fragment shader -->
    <script id="fragment-src" type="notjs">
        precision mediump float;
        varying vec4 v_color;

        void main() {
            gl_FragColor = v_color;
        }
    </script>

    <!-- SHADER PROGRAM FOR PICKING -->
    <!-- vertex shader -->
    <script id="vertex-src-pick" type="notjs">
        attribute vec2 pick_position;
        uniform vec2 pick_resolution;
        
        void main(){
            vec2 nolToSatu = pick_position/pick_resolution;
            vec2 nolToDua = nolToSatu * 2.0;
            vec2 clipSpace = nolToDua - 1.0;
            gl_Position = vec4(clipSpace.x, clipSpace.y*-1.0, 0, 1);
            gl_PointSize = 10.0;
        }
    </script>

    <!-- fragment shader -->
    <script id="fragment-src-pick" type="notjs">
        precision mediump float;
        uniform vec4 u_id;
        void main(){
            gl_FragColor = u_id;
        }
    </script>
</head>
<body>
    <div class="container">
        <div class="header">
            <p><b>grafika kongmputer is my passion (y)</b></p>
        </div>
        <div class = "screenandbuttons">
            <div class="canvasdiv">
                <canvas id = "canvas"></canvas>
            </div>
            <div class="buttons">
                <p><b id="curMode">NONE</b></p>
                <!-- feature buttons -->
                <button id="noneBtn" class="button" type="button">No Selection</button>
                <button id="lineBtn" class="button" type="button">Line</button>
                <button id="squareBtn" class="button" type="button">Square</button>
                <button id="rectangleBtn" class="button" type="button">Rectangle</button>
                <button id="polygonBtn" class="button" type="button">Polygon</button>
                <button id="changeColBtn" class="button" type="button">Change Color</button>
                <button id="moveBtn" class="button" type="button">Move/Resize</button>

                <!-- color picker -->
                <input type="color" id="colorBtn" name="colorBtn" class="button" style="height: 4%;" value="#000000">
                <label for="colorBtn">Color</label>

                <!-- save and load button -->
                <button id="loadBtn" class="button" style="margin-top: 50px;" type="button">Load</button>
                <button id="saveBtn" class="button" type="button">Save</button>
                
                <div>X : <span id="X"></span></div>
                <div>Y : <span id="Y"></span></div>
                <div>C : <span id="C"></span></div>
            </div>
        </div>
    </div>
</body>
</html>